(function(){"undefined"===typeof WeakMap&&function(){var f=Object.defineProperty,m=Date.now()%1E9,d=function(){this.name="__st"+(1E9*Math.random()>>>0)+(m++ +"__")};d.prototype={set:function(g,l){var d=g[this.name];d&&d[0]===g?d[1]=l:f(g,this.name,{value:[g,l],writable:!0})},get:function(g){var d;return(d=g[this.name])&&d[0]===g?d[1]:void 0},"delete":function(d){this.set(d,void 0)}};window.WeakMapPolyfill=d;window.WeakMap=d}()})();
(function(){if(!window.MutationObserver&&window.WebKitMutationObserver)window.MutationObserver=window.WebKitMutationObserver;else if(!window.MutationObserver){var f=new WeakMap,m=window.msSetImmediate;if(!m){var d=[],g=String(Math.random());window.addEventListener("message",function(a){a.data===g&&(a=d,d=[],a.forEach(function(a){a()}))});m=function(a){d.push(a);window.postMessage(g,"*")}}var l=!1,p=[],u=function(){l=!1;var a=p;p=[];a.sort(function(a,b){return a.uid_-b.uid_});var b=!1;a.forEach(function(a){var e=
a.takeRecords();y(a);e.length&&(a.callback_(e,a),b=!0)});b&&u()},y=function(a){a.nodes_.forEach(function(b){(b=f.get(b))&&b.forEach(function(b){b.observer===a&&b.removeTransientObservers()})})},r=function(a,b){for(var c=a;c;c=c.parentNode){var e=f.get(c);if(e)for(var q=0;q<e.length;q++){var d=e[q],h=d.options;(c===a||h.subtree)&&(h=b(h))&&d.enqueue(h)}}},z=0,s=function(a){this.callback_=a;this.nodes_=[];this.records_=[];this.uid_=++z};s.prototype={observe:function(a,b){var c=a;a=window.ShadowDOMPolyfill&&
window.ShadowDOMPolyfill.wrapIfNeeded(c)||c;if(!b.childList&&!b.attributes&&!b.characterData||b.attributeOldValue&&!b.attributes||b.attributeFilter&&b.attributeFilter.length&&!b.attributes||b.characterDataOldValue&&!b.characterData)throw new SyntaxError;(c=f.get(a))||f.set(a,c=[]);for(var e,d=0;d<c.length;d++)if(c[d].observer===this){e=c[d];e.removeListeners();e.options=b;break}e||(e=new v(this,a,b),c.push(e),this.nodes_.push(a));e.addListeners()},disconnect:function(){this.nodes_.forEach(function(a){a=
f.get(a);for(var b=0;b<a.length;b++){var c=a[b];if(c.observer===this){c.removeListeners();a.splice(b,1);break}}},this);this.records_=[]},takeRecords:function(){var a=this.records_;this.records_=[];return a}};var w=function(a,b){this.type=a;this.target=b;this.addedNodes=[];this.removedNodes=[];this.oldValue=this.attributeNamespace=this.attributeName=this.nextSibling=this.previousSibling=null},n,k,t=function(a,b){return n=new w(a,b)},x=function(a){if(k)return k;var b=n,c=new w(b.type,b.target);c.addedNodes=
b.addedNodes.slice();c.removedNodes=b.removedNodes.slice();c.previousSibling=b.previousSibling;c.nextSibling=b.nextSibling;c.attributeName=b.attributeName;c.attributeNamespace=b.attributeNamespace;c.oldValue=b.oldValue;k=c;k.oldValue=a;return k},v=function(a,b,c){this.observer=a;this.target=b;this.options=c;this.transientObservedNodes=[]};v.prototype={enqueue:function(a){var b=this.observer.records_,c=b.length;if(0<b.length){var e=b[c-1];e=e===a?e:!k||e!==k&&e!==n?null:k;if(e){b[c-1]=e;return}}else p.push(this.observer),
l||(l=!0,m(u));b[c]=a},addListeners:function(){this.addListeners_(this.target)},addListeners_:function(a){var b=this.options;b.attributes&&a.addEventListener("DOMAttrModified",this,!0);b.characterData&&a.addEventListener("DOMCharacterDataModified",this,!0);b.childList&&a.addEventListener("DOMNodeInserted",this,!0);(b.childList||b.subtree)&&a.addEventListener("DOMNodeRemoved",this,!0)},removeListeners:function(){this.removeListeners_(this.target)},removeListeners_:function(a){var b=this.options;b.attributes&&
a.removeEventListener("DOMAttrModified",this,!0);b.characterData&&a.removeEventListener("DOMCharacterDataModified",this,!0);b.childList&&a.removeEventListener("DOMNodeInserted",this,!0);(b.childList||b.subtree)&&a.removeEventListener("DOMNodeRemoved",this,!0)},addTransientObserver:function(a){if(a!==this.target){this.addListeners_(a);this.transientObservedNodes.push(a);var b=f.get(a);b||f.set(a,b=[]);b.push(this)}},removeTransientObservers:function(){var a=this.transientObservedNodes;this.transientObservedNodes=
[];a.forEach(function(a){this.removeListeners_(a);a=f.get(a);for(var c=0;c<a.length;c++)if(a[c]===this){a.splice(c,1);break}},this)},handleEvent:function(a){a.stopImmediatePropagation();switch(a.type){case "DOMAttrModified":var b=a.attrName,c=a.relatedNode.namespaceURI,e=a.target,d=new t("attributes",e);d.attributeName=b;d.attributeNamespace=c;var f=a.attrChange===MutationEvent.ADDITION?null:a.prevValue;r(e,function(a){if(a.attributes&&(!a.attributeFilter||!a.attributeFilter.length||-1!==a.attributeFilter.indexOf(b)||
-1!==a.attributeFilter.indexOf(c)))return a.attributeOldValue?x(f):d});break;case "DOMCharacterDataModified":e=a.target;d=t("characterData",e);f=a.prevValue;r(e,function(a){if(a.characterData)return a.characterDataOldValue?x(f):d});break;case "DOMNodeRemoved":this.addTransientObserver(a.target);case "DOMNodeInserted":var e=a.relatedNode,h=a.target,g;"DOMNodeInserted"===a.type?(a=[h],g=[]):(a=[],g=[h]);var l=h.previousSibling,h=h.nextSibling,d=t("childList",e);d.addedNodes=a;d.removedNodes=g;d.previousSibling=
l;d.nextSibling=h;r(e,function(a){if(a.childList)return d})}n=k=void 0}};window.MutationObserverPolyfill=s;window.MutationObserver=s}})();
